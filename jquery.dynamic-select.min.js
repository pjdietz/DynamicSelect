/**
 * Dynamic Select
 * Populate and repopulate a select on the fly.
 *
 * Copyright (c) 2012 PJ Dietz
 * Version: 1.1.0
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/mit-license.php
 *
 * http://pjdietz.com/jquery-plugins/dynamic-select/
 */
(function($){"use strict";var DynamicSelect;DynamicSelect=function(element,options){this.options=$.extend({},$.fn.dynamicSelect.defaults,options);this.element=$(element)};DynamicSelect.prototype={update:function(options){var option,subObtion,optionElem,optgroupElem,i,u,j,v;this.element.empty();options=this.options.filter(options);for(i=0,u=options.length;i<u;i+=1){option=options[i];if(!$.isArray(option.value)){optionElem=$("<option></option").attr("value",option.value).text(option.label);this.element.append(optionElem)}else{optgroupElem=$('<optgroup></optgroup>').attr('label',option.label);for(j=0,v=option.value.length;j<v;j+=1){subObtion=option.value[j];optionElem=$("<option></option").attr("value",subObtion.value).text(subObtion.label);optgroupElem.append(optionElem)}this.element.append(optgroupElem)}}}};if(typeof $.fn.freeow==="undefined"){$.fn.extend({dynamicSelect:function(method,options){if(typeof options==="undefined"){options=method}return this.each(function(){var ds;ds=$(this).data("DynamicSelect");if(typeof ds==="undefined"){ds=new DynamicSelect($(this),options);$(this).data("DynamicSelect",ds)}switch(method){case"set":ds.set(options);break;case"setFilter":ds.setFilter(options);break;case"update":ds.update(options);break}})}});$.fn.dynamicSelect.defaults={filter:function(options){return options}}}}(jQuery));