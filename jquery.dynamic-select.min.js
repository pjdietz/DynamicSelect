/**
 * Dynamic Select
 * Populate and repopulate a select on the fly.
 *
 * Copyright (c) 2013 PJ Dietz
 * Version: 1.1.1
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/mit-license.php
 *
 * http://pjdietz.com/jquery-plugins/dynamic-select/
 */
(function(e){"use strict";var t;t=function(t,n){this.options=e.extend({},e.fn.dynamicSelect.defaults,n);this.element=e(t)};t.prototype={update:function(t){var n,r,i,s,o,u,a,f;this.element.empty();t=this.options.filter(t);for(o=0,u=t.length;o<u;o+=1){n=t[o];if(!e.isArray(n.value)){i=e("<option></option>").attr("value",n.value).text(n.label);this.element.append(i)}else{s=e("<optgroup></optgroup>").attr("label",n.label);for(a=0,f=n.value.length;a<f;a+=1){r=n.value[a];i=e("<option></option>").attr("value",r.value).text(r.label);s.append(i)}this.element.append(s)}}}};if(typeof e.fn.freeow==="undefined"){e.fn.extend({dynamicSelect:function(n,r){if(typeof r==="undefined"){r=n}return this.each(function(){var i;i=e(this).data("DynamicSelect");if(typeof i==="undefined"){i=new t(e(this),r);e(this).data("DynamicSelect",i)}switch(n){case"set":i.set(r);break;case"setFilter":i.setFilter(r);break;case"update":i.update(r);break}})}});e.fn.dynamicSelect.defaults={filter:function(e){return e}}}})(jQuery)
